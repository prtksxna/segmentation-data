{"version":3,"file":"transforms.js","sourceRoot":"","sources":["../../../../../src/compile/selection/transforms/transforms.ts"],"names":[],"mappings":";;;AAgBA,4DAA8B;AAC9B,8DAAgC;AAChC,8DAAgC;AAChC,4DAA8B;AAC9B,4DAA8B;AAC9B,kEAAoC;AACpC,wDAA0B;AAC1B,IAAM,SAAS,GAA4B;IACzC,OAAO,mBAAA;IACP,MAAM,kBAAA;IACN,MAAM,kBAAA;IACN,SAAS,qBAAA;IACT,IAAI,gBAAA;IACJ,MAAM,kBAAA;IACN,OAAO,mBAAA;CACR,CAAC;AAEF,SAAgB,gBAAgB,CAAC,OAA2B,EAAE,EAAmC;IAC/F,KAAK,IAAM,CAAC,IAAI,SAAS,EAAE;QACzB,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;YAC7B,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SAClB;KACF;AACH,CAAC;AAND,4CAMC","sourcesContent":["import {SelectionDef} from '../../../selection';\nimport {Dict} from '../../../util';\nimport {VgSignal} from '../../../vega.schema';\nimport {Model} from '../../model';\nimport {UnitModel} from '../../unit';\nimport {SelectionComponent} from '../selection';\n\nexport interface TransformCompiler {\n  has: (selCmpt: SelectionComponent | SelectionDef) => boolean;\n  parse?: (model: UnitModel, def: SelectionDef, selCmpt: SelectionComponent) => void;\n  signals?: (model: UnitModel, selCmpt: SelectionComponent, signals: VgSignal[]) => VgSignal[];\n  topLevelSignals?: (model: Model, selCmpt: SelectionComponent, signals: VgSignal[]) => VgSignal[];\n  modifyExpr?: (model: UnitModel, selCmpt: SelectionComponent, expr: string) => string;\n  marks?: (model: UnitModel, selCmpt: SelectionComponent, marks: any[]) => any[];\n}\n\nimport inputs from './inputs';\nimport nearest from './nearest';\nimport project from './project';\nimport scales from './scales';\nimport toggle from './toggle';\nimport translate from './translate';\nimport zoom from './zoom';\nconst compilers: Dict<TransformCompiler> = {\n  project,\n  toggle,\n  scales,\n  translate,\n  zoom,\n  inputs,\n  nearest\n};\n\nexport function forEachTransform(selCmpt: SelectionComponent, cb: (tx: TransformCompiler) => void) {\n  for (const t in compilers) {\n    if (compilers[t].has(selCmpt)) {\n      cb(compilers[t]);\n    }\n  }\n}\n"]}